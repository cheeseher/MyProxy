# Surge 双端通用配置生成计划

我的 wifi 不是软路由，我无论链接 wifi 还是使用手机流量，都需要开启代理服务以满足我的日常工作需求

我已深入研读了您的节点列表、项目描述以及提供的四份参考配置（官方推荐、深巷有喵、Lucky、开发者推荐）。基于您的需求（Mac/iOS 双端适配、中国区优化、节点列表匹配、GitHub 托管），我制定了以下实施计划：

## 1. 配置策略设计 (Design Phase)

我们将创建一个名为 `Surge-Dual.conf` 的统一配置文件，核心逻辑如下：

### **\[General] 基础设置**

* **双端兼容**：开启 `wifi-assist` (Wi-Fi 助理) 优化 iOS 体验；关闭 IPv6 以避免国内网络环境下的连接问题。

* **DNS 配置**：使用阿里 DNS (223.5.5.5) 和腾讯 DNS (119.29.29.29) 作为首选，配合 `system` 确保解析速度与准确性。

* **性能优化**：设置 `skip-proxy` 排除局域网段，减少不必要的代理开销。

### **\[Proxy Group] 策略组架构**

根据您的节点列表 (`A102T-1X-BGP-HK` 等格式)，我将设计以下策略组：

1. **🚀 节点选择 (Proxy)**: 主策略组，手动选择具体节点或地区。
2. **♻️ 自动选择 (Auto)**: `url-test` 模式，自动选择延迟最低的节点。
3. **地区智能分组**: 使用正则精准匹配您的节点命名：

   * `🇭🇰 香港节点`: 匹配 `(HK|Hong)`

   * `🇯🇵 日本节点`: 匹配 `(JP|Japan)`

   * `🇺🇸 美国节点`: 匹配 `(US|States)`

   * `🇸🇬 新加坡节点`: 匹配 `(SG|Singapore)`

   * `🇨🇳 台湾节点`: 匹配 `(TW|Tai)`
4. **场景功能分组**:

   * `🎬 流媒体`: 针对 Netflix/YouTube 等优化。

   * `🍎 苹果服务`: 默认 Direct，可手动切 Proxy。

   * `🛡️ 广告拦截`: 挂载去广告规则集。
5. **✈️ 我的订阅**: 作为底层策略组，通过 `policy-path` 挂载您的机场订阅链接（需您填入）。

### **\[Rule] 规则体系**

采用模块化的 Rule-Set 规则集（引用 GitHub 上维护良好的源，如 Blackmatrix7），确保规则自动更新且轻量化：

* **去广告 & 隐私保护**

* **国际流媒体 (YouTube, Netflix, Disney+)**

* **国内应用直连 (WeChat, Bilibili 等)**

* **Apple 服务优化**

* **Final 规则**: 兜底策略。

## 2. 配置文件生成 (Implementation Phase)

* 我将直接在您的项目根目录生成 `Surge-Dual.conf` 文件。

* 该文件将包含详细的中文注释，解释每个配置项的作用，方便您查阅。

## 3. GitHub 托管与导入指南 (Deployment Phase)

* 鉴于您当前目录即为 Git 仓库 (`/Users/shanesheng/Documents/Code/MyProxy`)，生成文件后，您只需简单的 Git 命令即可推送。

* 我 will 提供从 GitHub 获取 `Raw` 链接并导入 Surge 的详细步骤。

## 4. 双端适配建议

* **iOS**: 建议保持“高效模式”，关闭不必要的脚本功能以省电。

* **Mac**: 可开启“增强模式” (Enhanced Mode) 以接管所有终端流量。

准备好后，请确认此计划，我将开始编写配置文件。
